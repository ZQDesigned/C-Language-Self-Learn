# 课程 2 开始编写你的第一个 C 语言程序吧！

> 开始编写你的第一个 C 程序

## **引入**

在学习任何一门编程语言时，第一步通常是编写一个简单的程序。这个程序可能只是输出一条消息，或者计算一些数字。无论是什么样的程序，它都是你学习编程的第一步。

相信大家都听到一些人说过“我精通各种语言的 Hello World”吧？虽然这句话有点夸张，但它确实说明了一个重要的观点：Hello World 程序是学习任何一门编程语言的第一步。

在本课中，我们将学习如何编写一个简单的 C 语言程序。我们将从一个简单的程序开始，逐步添加更多的功能，直到我们编写出一个完整的程序。

## **教学**

Hello World 程序是一个简单的程序，它的功能是在屏幕上输出一条消息“Hello, world!”。这个程序通常用来测试编程环境是否正确配置，以及学习一门新的编程语言的基本语法。

在 Windows 系统上，执行由 GCC 编译器编译的 C 语言程序时，会在命令行窗口中显示程序的输出。我们应当如何实现在控制台上输出一条消息呢？我们可以使用 C 语言的标准库函数 `printf` 来实现这个功能。

入门阶段，我们只需要了解 `printf` 函数的基本用法。`printf` 函数的原型如下：

```C
int printf(const char *format, ...);
```

`printf` 函数接受一个格式化字符串 `format` 和一系列参数，根据格式化字符串的内容将参数输出到标准输出设备（通常是控制台）。格式化字符串中可以包含格式化占位符，用于指定参数的输出格式。

这里仔细讲一下格式化字符串这个概念。格式化字符串是一个包含普通字符和格式化占位符的字符串。格式化占位符以 `%` 开头，后面跟着一个或多个格式化字符，用于指定参数的输出格式。例如，`%d` 表示输出一个整数，`%f` 表示输出一个浮点数，`%s` 表示输出一个字符串。

下面给出几个简单的格式化占位符示例（有关格式化占位符的更多内容，参阅[附录 1](A1.md)）：

- `%d`：输出一个整数
- `%f`：输出一个浮点数
- `%s`：输出一个字符串

将格式化字符和普通字符组合在一起，就可以构成一个格式化字符串。例如，`"Hello, %s!"` 是一个格式化字符串，其中 `%s` 是一个格式化占位符，表示将要插入的字符串。

一般情况下，格式化字符串用于指定输出的格式，参数用于填充格式化字符串中的占位符。例如，`printf("Hello, %s!\n", "world")` 将输出字符串 "Hello, world!"。

在实际使用中，我们可以在格式化字符串中插入多个占位符，然后按顺序提供相应的参数。例如，`printf("The value of num is: %d\n", num)` 将输出一个整数变量 `num` 的值。**务必注意，参数的类型必须与格式化占位符的数量和类型匹配，否则会导致输出错误。**

如果我们输出的字符串中没有需要格式化的内容，我们可以直接将字符串作为参数传递给 `printf` 函数。例如，`printf("Hello, world!\n")` 将输出字符串 "Hello, world!"。

现在，让我们来编写一个简单的 Hello World 程序：

```C
int main() {
    // 使用 printf 函数输出一条消息
    printf("Hello, world!\n");

    // 返回 0 表示程序执行成功
    return 0;
}
```

细心的你一定发现了，当你将上面的代码保存到文件中并尝试编译时，编译器报错了。

报错大概是这样的：

```text
error: implicit declaration of function 'printf' [-Wimplicit-function-declaration]
```

这个报错是什么意思呢？

它是说，`printf` 函数的声明是隐式的，编译器无法找到 `printf` 函数的声明。

在初学阶段，我们一般不需要自行声明函数，因为 C 语言提供了很多现成的标准库函数，可以开箱即用。

如何使用头文件呢？我们只需要在程序中包含相应的头文件即可。`printf` 函数是在 `stdio.h` 头文件中声明的，我们只需要在程序中包含 `stdio.h` 头文件即可。（如果你想要深入了解这个头文件，参阅[附录 5](A5.md)）

包含头文件的方法是使用 `#include` 预处理指令（有关预处理指令的详细内容，请参阅[附录 2](A2.md)），例如：

```C
#include <stdio.h>
```

将这行代码添加到程序的开头，即可解决编译器报错的问题。

接下来，请看下面的代码，这是一个完整的 Hello World 程序：

```C
#include <stdio.h>

int main() {
    // 使用 printf 函数输出一条消息
    printf("Hello, world!\n");

    // 返回 0 表示程序执行成功
    return 0;
}
```

> **提示**：
> 
> 上述代码示例中，我们的`main`函数最后会返回一个整数值`0`，这是程序执行成功的标志。但是在 C 语言中，我们也可以以`void`的方式声明`main`函数，即`void main()`，这样就不需要返回值了。**但是，这种写法并不是标准的 C 语言写法，不推荐使用，只是它不会报错罢了（在 C++ 中，使用`void`的方式定义`main`函数是会报错的）。**

## **总结**

在本课中，我们学习了如何编写一个简单的 C 语言程序。我们了解了`printf`函数的基本用法，以及如何使用格式化字符串和占位符输出消息。我们还学习了如何包含头文件，以便使用标准库函数。

后续课程中，我们将继续学习 C 语言的基础知识，包括变量、数据类型、运算符等。希望大家能够继续保持学习的热情，不断提升自己的编程技能！