# 课程 5 条件判断

## 课程目标

- 了解条件判断的基本概念
- 掌握条件判断的语法
- 掌握条件判断的应用
- 了解条件判断的常见错误

## 引入

条件判断是编程语言中的一种结构，它可以根据条件的真假来执行不同的代码。在现实生活中，我们也会根据不同的条件来做出不同的决策。比如，如果天气晴朗，我们就出去玩；如果天气阴雨，我们就宅在家里。在编程中，我们可以使用条件判断来实现类似的功能。

条件判断与前面讲到的输入输出所用到的库函数概念不同，它是一种程序结构，是一种程序的基本组成单元。条件判断是程序中的一种控制结构，它可以根据条件的真假来执行不同的代码。它是一种语法结构，是由程序编译器或解释器来执行的。

C语言的条件判断主要通过以下几种语句实现：

1. **if 语句**
2. **if-else 语句**
3. **else if 语句**
4. **switch 语句**
5. **条件运算符（三元运算符）**

### 1. `if` 语句
`if` 语句用于执行某个条件成立时的一段代码。其基本语法如下：
```c
if (条件) {
    // 条件为真时执行的代码
}
```

#### 示例：
```c
#include <stdio.h>

int main() {
    int a = 10;
    if (a > 5) {
        printf("a 大于 5\n");
    }
    return 0;
}
```

#### 详细解读

- `int a = 10;` 定义了一个整型变量 `a`，并赋值为 10。
- `if (a > 5)` 是一个条件判断语句，判断 `a` 是否大于 5。
- `printf("a 大于 5\n");` 是条件为真时执行的代码，即当 `a` 大于 5 时输出 "a 大于 5"。

### 2. `if-else` 语句
`if-else` 语句用于在条件为假时执行另一段代码。其基本语法如下：
```c
if (条件) {
    // 条件为真时执行的代码
} else {
    // 条件为假时执行的代码
}
```

#### 示例：
```c
#include <stdio.h>

int main() {
    int a = 3;
    if (a > 5) {
        printf("a 大于 5\n");
    } else {
        printf("a 小于或等于 5\n");
    }
    return 0;
}
```

#### 详细解读

- `int a = 3;` 定义了一个整型变量 `a`，并赋值为 3。
- `if (a > 5)` 是一个条件判断语句，判断 `a` 是否大于 5。
- `printf("a 大于 5\n");` 是条件为真时执行的代码，即当 `a` 大于 5 时输出 "a 大于 5"。
- `printf("a 小于或等于 5\n");` 是条件为假时执行的代码，即当 `a` 小于或等于 5 时输出 "a 小于或等于 5"。

### 3. `else if` 语句
`else if` 语句用于检查多个条件。其基本语法如下：
```c
if (条件1) {
    // 条件1为真时执行的代码
} else if (条件2) {
    // 条件2为真时执行的代码
} else {
    // 以上条件都为假时执行的代码
}
```

#### 示例：
```c
#include <stdio.h>

int main() {
    int a = 7;
    if (a > 10) {
        printf("a 大于 10\n");
    } else if (a > 5) {
        printf("a 大于 5 但小于或等于 10\n");
    } else {
        printf("a 小于或等于 5\n");
    }
    return 0;
}
```

#### 详细解读

- `int a = 7;` 定义了一个整型变量 `a`，并赋值为 7。
- `if (a > 10)` 是一个条件判断语句，判断 `a` 是否大于 10。
- `printf("a 大于 10\n");` 是条件1为真时执行的代码，即当 `a` 大于 10 时输出 "a 大于 10"。
- `else if (a > 5)` 是一个条件2判断语句，判断 `a` 是否大于 5。
- `printf("a 大于 5 但小于或等于 10\n");` 是条件2为真时执行的代码，即当 `a` 大于 5 但小于或等于 10 时输出 "a 大于 5 但小于或等于 10"。
- `printf("a 小于或等于 5\n");` 是以上条件都为假时执行的代码，即当 `a` 小于或等于 5 时输出 "a 小于或等于 5"。

### 4. `switch` 语句
`switch` 语句用于在多个可能的值中选择执行的代码段。其基本语法如下：
```c
switch (表达式) {
    case 值1:
        // 当表达式等于值1时执行的代码
        break;
    case 值2:
        // 当表达式等于值2时执行的代码
        break;
    // 可以有多个 case 语句
    default:
        // 当表达式不等于任何 case 值时执行的代码
}
```

#### 示例：
```c
#include <stdio.h>

int main() {
    int a = 2;
    switch (a) {
        case 1:
            printf("a 是 1\n");
            break;
        case 2:
            printf("a 是 2\n");
            break;
        case 3:
            printf("a 是 3\n");
            break;
        default:
            printf("a 不是 1, 2 或 3\n");
    }
    return 0;
}
```

#### 详细解读

- `int a = 2;` 定义了一个整型变量 `a`，并赋值为 2。
- `switch (a)` 是一个 `switch` 语句，根据 `a` 的值执行不同的代码。
- `case 1:` 是一个 `case` 语句，当 `a` 的值等于 1 时执行 `printf("a 是 1\n");`。
- `case 2:` 是一个 `case` 语句，当 `a` 的值等于 2 时执行 `printf("a 是 2\n");`。
- `case 3:` 是一个 `case` 语句，当 `a` 的值等于 3 时执行 `printf("a 是 3\n");`。
- `default:` 是一个 `default` 语句，当 `a` 的值不等于任何 `case` 值时执行 `printf("a 不是 1, 2 或 3\n");`。

> **特别注意！**
>
> 一般情况下，每个 `case` 语句后面都需要加上 `break;`，否则程序会继续执行下一个 `case` 语句的代码块，而不是判断是否满足遇到的 `case` 语句定义的条件。
> 
> 举例：
> ```c
> switch (a) {
>    case 1:
>       printf("a 是 1\n");
>    case 2:
>       printf("a 是 2\n");
>       break;
> }
> ```
> 在这个例子中，如果 `a` 的值为 1，程序会输出 "a 是 1" 和 "a 是 2"，因为没有 `break;` 语句来终止 `case 1` 的执行。
> 
> 但是，`case` 语句中的 `break;` 是可选的，有时候我们可能需要让多个 `case` 语句执行相同的代码，这时候就不需要在每个 `case` 语句后面加上 `break;`。

### 5. 条件运算符（三元运算符）
条件运算符是一种简写形式，用于在条件为真或假时返回不同的值。其基本语法如下：
```c
条件 ? 表达式1 : 表达式2;
```

#### 示例：
```c
#include <stdio.h>

int main() {
    int a = 4;
    int b = (a > 5) ? 10 : 20;
    printf("b 的值是 %d\n", b);
    return 0;
}
```
在这个例子中，如果 `a > 5` 为真，`b` 将被赋值为 10，否则 `b` 将被赋值为 20。

基本的条件判断语句就是这些，通过这些语句，我们可以根据不同的条件来执行不同的代码，实现不同的功能。同时，我们也需要根据实际情况，选择更为合适的条件判断语句。

## 实战练习

### 练习 1

**题目**：编写一个程序，要求用户输入一个整数。如果该整数大于0，打印“正数”。如果该整数小于0，打印“负数”。如果该整数等于0，打印“零”。

**示例输入1**：
```
-5
```

**示例输出1**：
```
负数
```

**示例输入2**：
```
0
```

**示例输出2**：
```
零
```

### 练习 2

**题目**：编写一个程序，要求用户输入一个整数，判断该整数是奇数还是偶数，并打印相应的消息。

**示例输入1**：
```
5
```

**示例输出1**：
```
奇数
```

**示例输入2**：
```
8
```

**示例输出2**：
```
偶数
```

### 练习 3

**题目**：编写一个程序，模拟一个简单的计算器。要求用户输入两个整数和一个运算符（+、-、\*、/），然后根据运算符计算结果并输出。如果用户输入的运算符不是 +、-、\*、/ 中的一个，输出“运算符错误”。

**示例输入**：
```
5 + 3
```

**示例输出**：
```
8
```

### 练习详解

#### 练习 1 {id="1_1"}

```c
#include <stdio.h>

int main() {
    int num;
    printf("请输入一个整数：");
    scanf("%d", &num);
    if (num > 0) {
        printf("正数\n");
    } else if (num < 0) {
        printf("负数\n");
    } else {
        printf("零\n");
    }
    return 0;
}
```

##### 详细解读

- `int num;` 定义了一个整型变量 `num`。
- `printf("请输入一个整数：");` 输出提示信息。
- `scanf("%d", &num);` 从标准输入读取一个整数，存储到 `num` 变量中。
- `if (num > 0)` 是一个条件判断语句，判断 `num` 是否大于 0。
- `printf("正数\n");` 是条件1为真时执行的代码，即当 `num` 大于 0 时输出 "正数"。
- `else if (num < 0)` 是一个条件2判断语句，判断 `num` 是否小于 0。
- `printf("负数\n");` 是条件2为真时执行的代码，即当 `num` 小于 0 时输出 "负数"。
- `printf("零\n");` 是以上条件都为假时执行的代码，即当 `num` 等于 0 时输出 "零"。

#### 练习 2 {id="1_2"}

```c
#include <stdio.h>

int main() {
    int num;
    printf("请输入一个整数：");
    scanf("%d", &num);
    if (num % 2 == 0) {
        printf("偶数\n");
    } else {
        printf("奇数\n");
    }
    return 0;
}
```

##### 详细解读

- `int num;` 定义了一个整型变量 `num`。
- `printf("请输入一个整数：");` 输出提示信息。
- `scanf("%d", &num);` 从标准输入读取一个整数，存储到 `num` 变量中。
- `if (num % 2 == 0)` 是一个条件判断语句，判断 `num` 是否为偶数。
- `printf("偶数\n");` 是条件为真时执行的代码，即当 `num` 为偶数时输出 "偶数"。
- `printf("奇数\n");` 是条件为假时执行的代码，即当 `num` 为奇数时输出 "奇数"。

> **为什么用 `if (num % 2 == 0)` 作为判断条件？**
> 
> 因为一个整数除以 2 的余数为 0 时，这个整数就是偶数，否则就是奇数。

#### 练习 3 {id="1_3"}

```c
#include <stdio.h>

int main() {
    int num1, num2;
    char op;
    printf("请输入两个整数和一个运算符（+、-、*、/）：");
    scanf("%d %c %d", &num1, &op, &num2);
    switch (op) {
        case '+':
            printf("%d\n", num1 + num2);
            break;
        case '-':
            printf("%d\n", num1 - num2);
            break;
        case '*':
            printf("%d\n", num1 * num2);
            break;
        case '/':
            printf("%d\n", num1 / num2);
            break;
        default:
            printf("运算符错误\n");
    }
    return 0;
}
```

##### 详细解读

- `int num1, num2;` 定义了两个整型变量 `num1` 和 `num2`。
- `char op;` 定义了一个字符型变量 `op`。
- `printf("请输入两个整数和一个运算符（+、-、*、/）：");` 输出提示信息。
- `scanf("%d %c %d", &num1, &op, &num2);` 从标准输入读取两个整数和一个运算符，分别存储到 `num1`、`op` 和 `num2` 变量中。
- `switch (op)` 是一个 `switch` 语句，根据 `op` 的值执行不同的代码。
- `case '+':` 是一个 `case` 语句，当 `op` 的值为 '+' 时执行 `printf("%d\n", num1 + num2);`。
- `case '-':` 是一个 `case` 语句，当 `op` 的值为 '-' 时执行 `printf("%d\n", num1 - num2);`。
- `case '*':` 是一个 `case` 语句，当 `op` 的值为 '*' 时执行 `printf("%d\n", num1 * num2);`。
- `case '/':` 是一个 `case` 语句，当 `op` 的值为 '/' 时执行 `printf("%d\n", num1 / num2);`。
- `default:` 是一个 `default` 语句，当 `op` 的值不等于任何 `case` 值时执行 `printf("运算符错误\n");`。

> **注意：**
> 
> 千万不要忘记写 `break;`，否则程序会继续执行下一个 `case` 语句的代码块。

## 小结

本节课程我们学习了条件判断，条件判断是编程语言中的一种结构，它可以根据条件的真假来执行不同的代码。我们学习了 `if` 语句、`if-else` 语句、`else if` 语句、`switch` 语句和条件运算符（三元运算符）的基本语法和应用。通过这些语句，我们可以根据不同的条件来执行不同的代码，实现不同的功能。

在实际编程中，我们需要根据实际情况选择更为合适的条件判断语句，同时要注意条件判断语句的书写规范，避免常见的错误。

接下来，我们将继续学习循环结构，循环结构是编程语言中的另一种结构，它可以重复执行一段代码，实现重复性的功能。